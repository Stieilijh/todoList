(()=>{"use strict";class e{constructor(e,t="No date"){this.taskName=e,this.dueDate=t}getName(){return this.taskName}setName(e){this.taskName=e}getDate(){return this.dueDate?this.dueDate:"No date"}setDate(e){this.dueDate=e}}class t{constructor(t){this.tasks=[],this.projectName=t,this.tasks.push(new e("Some Task in "+t))}getName(){return this.projectName}setName(e){this.projectName=e}getTasks(){return this.tasks}setTasks(e){this.tasks=e}addTask(e){this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>!(t.getName()==e)))}has(e){return this.tasks.some((t=>t.getName()==e))}}class s{constructor(){this.projects=[],this.projects.push(new t("Today")),this.projects.push(new t("This Week"))}isEmpty(){return 0==this.projects.length}getProjects(){return this.projects}getProject(e){return this.projects.find((t=>t.getName()==e))}setprojects(e){this.projects=e}addproject(e){this.has(e.getName())||this.projects.push(e)}deleteproject(e){this.projects=this.projects.filter((t=>!(t.getName()===e)))}has(e){return this.projects.some((t=>t.getName()===e))}}let a,c="Today";function n(e){const t=document.querySelector("#projects");t.innerHTML="",e.getProjects().forEach((s=>{const a=document.createElement("div"),r=document.createElement("p");a.id=s.getName()+"div",r.id=s.getName(),r.textContent=s.getName(),a.appendChild(r),a.classList="projectList",t.appendChild(a),r.addEventListener("click",(()=>{c=s.getName(),o(e)})),a.style.display="flex",a.style.justifyContent="space-around",a.style.alignItems="center";const d=document.createElement("button");d.id=s.getName()+"DelBtn",d.textContent="x",d.classList="cancelBtns",d.addEventListener("click",(()=>{e.deleteproject(s.getName()),l(e),n(e),e.has(c)||(e.isEmpty()?document.querySelector("#tasks").innerHTML="":(c=e.getProjects()[0].getName(),o(e)))})),a.appendChild(d)}))}function r(){document.querySelector("#addProjectBtn").style.display="block",document.querySelector("#addProjectFormDiv").style.display="none"}function o(e){const t=i(e);if(!t)return;const s=document.querySelector("#tasks");s.innerHTML="",t.getTasks().forEach((a=>{const c=document.createElement("div"),n=document.createElement("p");c.id=a.getName().slice(0,4)+"div",n.id=a.getName().slice(0,4),n.textContent=a.getName(),c.appendChild(n),c.classList="taskList",c.style.display="flex",c.style.gap="5%",c.style.alignItems="center";const r=document.createElement("p");r.id=a.getName().slice(0,4)+"p",r.textContent=a.getDate(),c.appendChild(r);const d=document.createElement("button");d.id=a.getName().slice(0,4)+"DelBtn",d.textContent="x",d.classList="cancelBtns",d.addEventListener("click",(()=>{t.deleteTask(a.getName()),l(e),o(e)})),c.appendChild(d),s.appendChild(c)}))}function d(){document.querySelector("#addTaskBtn").style.display="block",document.querySelector("#addTaskFormDiv").style.display="none"}function i(e){return!e.isEmpty()&&e.getProject(c)}function l(e){localStorage.setItem("todolist",JSON.stringify(e))}localStorage.getItem("todolist")?(a=Object.assign(new s,JSON.parse(localStorage.getItem("todolist"))),a.setprojects(a.getProjects().map((e=>Object.assign(new t,e)))),a.getProjects().forEach((t=>{t.setTasks(t.getTasks().map((t=>Object.assign(new e,t))))}))):a=new s,function(s){r(),n(s),d(),o(s),document.querySelector("#cancelNewProject").addEventListener("click",(()=>{r()})),document.querySelector("#cancelNewTask").addEventListener("click",(()=>{d()})),document.querySelector("#addProjectBtn").addEventListener("click",(()=>{addProjectBtn.style.display="none",document.querySelector("#addProjectFormDiv").style.display="block"})),document.querySelector("#addTaskBtn").addEventListener("click",(()=>{s.isEmpty()?alert("Make a project first!!"):(addTaskBtn.style.display="none",document.querySelector("#addTaskFormDiv").style.display="block")})),document.querySelector("#createNewProjectBtn").addEventListener("click",(()=>{const e=document.querySelector("#addProjectNameInput").value;s.has(e)?alert("Project already exists"):""===e?alert("Name can't be empty"):(r(),s.addproject(new t(e)),n(s),c=e,o(s),l(s))})),document.querySelector("#createNewTaskBtn").addEventListener("click",(()=>{const t=document.querySelector("#addTaskNameInput").value,a=document.querySelector("#addDueDateInput").value;i(s).has(t)?alert("Task already exists"):""===t?alert("Task can't be empty"):(d(),i(s).addTask(new e(t,a)),o(s),l(s))}))}(a)})();
//# sourceMappingURL=main.js.map